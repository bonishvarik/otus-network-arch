# Архитектура Сетей CLOS



![тут скриншот 1](https://github.com/degreekeeper/otus-network-arch/blob/main/LAB_01_CLOS/screenshots/Screenshot_1.jpg)





### 1. Техническое Задание

Проектирование адресного пространства

Цель: Собрать схему CLOS;
Распределить адресное пространство;



1. Собрать топологию CLOS с 3 Spine и 4 Leaf. 3 Leaf подключены к 2 Spine. 1 Leaf подключен к оставшемуся Spine. Все Spine связаны между собой через дополнительный маршрутизатор(рекомендуется использовать IOL)
2. 2 Leaf необходимо связать между собой для дальнейшей настройки VPC пары
3. Добавить 3 клиента будущей фабрики. Один клиент подключен к VPC паре. Остальные клиенты подключены к оставшимся Leaf(в качестве клиентов рекомендуется использовать IOL образы)
4.  Распределить адресное пространство для Underlay сети
5.  План работы, адресное пространство, схема сети, настройки - зафиксированы в документации





### 2. Распределение адресного пространства



За принцип выбора подсетей берём следующую концепцию

а) на линках будут настраиваться подсети с маской /24

б) адреса будут распределяться из подсети 10.0.0.0/8

в) второй октет каждой сети будет соответствовать номеру самого выстоящего оборудования согласно иерархии CLOS. Т.е. по убыванию в иерархии CORE, SPINE, LEAF

г) третий октет каждой сети будет соответствовать номеру нижестоящего оборудования согласно иерархии CLOS.

д) четвертый октет каждой сети на ленке будет равен .1 на выстоящем оборудовании в иерархии, и .2 на нижестоящем оборудовании





Таблица 

| Оборудование | Выстоящий | Нижестоящий | Сеть         | Описание            |
| ------------ | --------- | ----------- | ------------ | ------------------- |
| **R11**      |           |             |              |                     |
|              | 10.11.1.1 | 10.11.1.2   | 10.11.1.0/24 | Линк R11 - SP1      |
|              | 10.11.2.1 | 10.11.2.2   | 10.11.2.0/24 | Линк R11 - SP2      |
|              | 10.11.3.1 | 10.11.3.2   | 10.11.3.0/24 | Линк R11 - SP3      |
| **SP1**      |           |             |              |                     |
|              | 10.1.4.1  | 10.1.4.2    | 10.1.4.0/24  | Линк SP1 - LF4      |
|              | 10.1.5.1  | 10.1.5.2    | 10.1.5.0/24  | Линк SP1 - LF5      |
|              | 10.1.6.1  | 10.1.6.2    | 10.1.6.0/24  | Линк SP1 - LF6      |
| **SP2**      |           |             |              |                     |
|              | 10.2.4.1  | 10.2.4.2    | 10.2.4.0/24  | Линк SP2 - LF4      |
|              | 10.2.5.1  | 10.2.5.2    | 10.2.5.0/24  | Линк SP2 - LF5      |
|              | 10.2.6.1  | 10.2.6.2    | 10.2.6.0/24  | Линк SP2 - LF6      |
| **SP3**      |           |             |              |                     |
|              | 10.3.7.1  | 10.3.7.2    | 10.3.7.0/24  | Линк SP3 - LF7      |
| **LF4**      |           |             |              |                     |
|              | 10.4.9.1  | 10.4.9.2    | 10.4.9.0/24  | Линк LF4 - NODE9    |
| **LF5**      |           |             |              |                     |
|              | 10.5.6.1  | 10.5.6.2    | 10.5.6.0/24  | Линк LF5 - LF6(VPC) |
|              | 10.5.10.1 | 10.5.10.2   | 10.5.10.0/24 | Линк LF5 - NODE10   |
| **LF6**      |           |             |              |                     |
|              | 10.6.10.1 | 10.6.10.2   | 10.6.10.0/24 | Линк LF6 - NODE10   |
| **LF7**      |           |             |              |                     |
|              | 10.7.11.1 | 10.7.11.2   | 10.7.11.0/24 | Линк LF7 - NODE11   |





#### Конец.